<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>NextGEN Workflow - Eclipse Free BIRD Tools</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="NextGEN Workflow - From BIRD artefacts to executable confidence" />
	<meta name="keywords" content="Eclipse Free BIRD Tools, BIRD, NextGEN, Workflow" />
	<meta name="author" content="Neil Mackenzie" />

	<link href="https://fonts.googleapis.com/css?family=Raleway:100,300,400,700" rel="stylesheet">

	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Themify Icons-->
	<link rel="stylesheet" href="css/themify-icons.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">
	<!-- Owl Carousel  -->
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- Page Allowlist Check -->
	<script src="js/allowlist.js"></script>
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	<style>
		.doc-section {
			padding: 80px 0;
			border-bottom: 1px solid #eee;
		}
		.doc-section:last-child {
			border-bottom: none;
		}
		.doc-icon {
			width: 120px;
			height: 120px;
			margin: 0 auto 30px;
			background: #0077be;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 48px;
			color: white;
			transition: all 0.3s ease;
		}
		.doc-icon:hover {
			background: #008793;
			transform: translateY(-5px);
		}
		.doc-card {
			text-align: center;
			padding: 40px 20px;
			margin-bottom: 30px;
		}
		.doc-card h3 {
			margin: 20px 0;
			color: #333;
		}
		.doc-card p {
			color: #666;
			margin-bottom: 30px;
		}

		.mission-box {
			background: #e0f2f1;
			border-radius: 12px;
			padding: 30px;
			border-left: 4px solid #0077be;
			margin-bottom: 30px;
			text-align: left;
		}
		.mission-box b {
			color: #001f3f;
		}

		.entry-points {
			background: #e0f2f1;
			border-radius: 12px;
			padding: 30px;
			border-left: 4px solid #008793;
			text-align: left;
			margin-bottom: 30px;
		}
		.entry-points b {
			color: #001f3f;
			font-size: 1.1rem;
		}
		.entry-points ul {
			margin: 15px 0 0 0;
			padding-left: 20px;
		}
		.entry-points ul li {
			margin-bottom: 10px;
			color: #004d7a;
		}
		.entry-points ul li a {
			color: #0077be;
			text-decoration: none;
			transition: color 0.3s ease;
		}
		.entry-points ul li a:hover {
			color: #00a86b;
		}

		.workflow-image-card {
			background: white;
			border: 1px solid #e0e6ed;
			border-radius: 15px;
			padding: 30px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.05);
			margin-bottom: 30px;
		}
		.workflow-image-card img {
			max-width: 100%;
			height: auto;
			border-radius: 8px;
			border: 1px solid #e0e6ed;
		}
		.workflow-image-card p {
			margin-top: 15px;
			color: #004d7a;
			line-height: 1.6;
		}

		.workflow-card {
			background: white;
			border: 1px solid #e0e6ed;
			border-radius: 15px;
			padding: 30px;
			margin-bottom: 20px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.05);
			transition: all 0.3s ease;
		}
		.workflow-card:hover {
			transform: translateY(-3px);
			box-shadow: 0 10px 30px rgba(0,0,0,0.1);
		}
		.workflow-card h3 {
			color: #001f3f;
			font-weight: 600;
			margin-bottom: 10px;
		}
		.workflow-card p {
			color: #004d7a;
			line-height: 1.6;
		}

		.subprocess-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 20px;
			margin-top: 20px;
		}

		.subprocess-card {
			background: #f0f8ff;
			border: 1px solid #e0e6ed;
			border-radius: 12px;
			padding: 25px;
			transition: all 0.3s ease;
		}
		.subprocess-card:hover {
			background: #e0f2f1;
			transform: translateY(-3px);
			box-shadow: 0 8px 25px rgba(0,0,0,0.08);
		}
		.subprocess-card b {
			color: #001f3f;
			font-size: 1.05rem;
		}
		.subprocess-card p {
			color: #004d7a;
			margin: 10px 0;
			line-height: 1.6;
		}
		.subprocess-card a {
			color: #0077be;
			text-decoration: none;
			font-weight: 500;
			transition: color 0.3s ease;
		}
		.subprocess-card a:hover {
			color: #00a86b;
		}

		.error-card {
			background: #e0f2f1;
			border-radius: 12px;
			padding: 30px;
			border-left: 4px solid #d9534f;
		}
		.error-card b {
			color: #d9534f;
		}
		.error-card p {
			color: #004d7a;
		}

		@media (max-width: 768px) {
			.subprocess-grid {
				grid-template-columns: 1fr;
			}
		}
	</style>
</head>
<body>

<div class="gtco-loader"></div>

<div id="page">

	<!-- Navigation Include -->
	<div w3-include-html="navbar.html"></div>

	<header class="hero-section">
		<div class="gtco-container">
			<div class="row">
				<div class="col-md-12 text-center">
					<h1 id="title">NextGEN Workflow</h1>
					<h2 id="subtitle">From BIRD artefacts to executable confidence</h2>
				</div>
			</div>
		</div>
	</header>

	<!-- Main Content -->
	<div class="main">

		<!-- Mission & Entry Points -->
		<section class="doc-section" >
			<div class="gtco-container">
				<div class="row">
					<div class="col-md-12">
						
						<div class="entry-points">
							<b>Choose your entry point:</b>
							<ul>
								<li><a href="./nextgen.html#main-workflow">Workflow (subprocess view) &mdash; recommended entry point</a></li>
								<li><a href="https://github.com/eclipse-efbt/efbt/tree/master">Reference implementation code (GitHub master)</a></li>
								<li><a href="./documentation.html">Reference implementation tools guide</a></li>
								<li><a href="https://github.com/eclipse-efbt/efbt/discussions">Discussions</a></li>
								<li><a href="https://github.com/eclipse-efbt/efbt/wiki">Wiki</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Main Workflow Visual -->
		<section class="doc-section">
			<div class="gtco-container">
				<div class="row">
					<div class="col-md-12">
						<div class="doc-card">
							<div class="doc-icon" id="main-workflow">
								<i class="ti-layout-media-overlay"></i>
							</div>
							<h3>Main Workflow (visual)</h3>
						</div>
						<div class="workflow-image-card">
							<img src="./assets/main-workflow.jpg" alt="Main workflow overview">
							<p>Subprocess overview: Workflow Setup &rarr; SMCubes Core Creation &rarr; SMCubes Transformation Rules Creation &rarr; Python Transformation Rules Creation.</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Dynamic Workflows -->
		<section class="doc-section">
			<div class="gtco-container">
				<div class="row">
					<div class="col-md-12">
						<div class="doc-card">
							<div class="doc-icon">
								<i class="ti-settings"></i>
							</div>
							<h3>Workflows</h3>
						</div>
						<div id="cards"></div>
					</div>
				</div>
			</div>
		</section>

	</div>

	<!-- Footer Include -->
	<div w3-include-html="footer.html"></div>

</div>

<div class="gototop js-top">
	<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="js/jquery.waypoints.min.js"></script>
<!-- Carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- Magnific Popup -->
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/magnific-popup-options.js"></script>
<!-- Main -->
<script src="js/main.js"></script>
<!-- W3 Include -->
<script src="js/w3-include.js"></script>
<!-- Dynamic Sidebar -->
<script src="js/dynamic-sidebar.js"></script>

<script>
fetch('./data/workflow.json')
  .then(r => r.json())
  .then(d => {
    if (d.title) document.getElementById('title').textContent = d.title;
    if (d.subtitle) document.getElementById('subtitle').textContent = d.subtitle;

    const cards = document.getElementById('cards');
    cards.innerHTML = '';

    const workflows = (d.workflows && d.workflows.length)
      ? d.workflows
      : [{ id: 'default', title: 'Workflow', summary: '', subprocesses: d.subprocesses || [] }];

    workflows.forEach(wf => {
      const wrap = document.createElement('div');
      wrap.className = 'workflow-card';
      wrap.innerHTML = '<h3>' + wf.title + '</h3><p>' + (wf.summary || '') + '</p>';

      const grid = document.createElement('div');
      grid.className = 'subprocess-grid';

      (wf.subprocesses || []).forEach(sp => {
        const div = document.createElement('div');
        div.className = 'subprocess-card';
        div.innerHTML = '<div><b>' + sp.title + '</b></div>' +
          '<p>' + (sp.summary || '') + '</p>' +
          '<a href="./workflow/task.html?id=' + encodeURIComponent(sp.id) + '">Drill down &rarr;</a>';
        grid.appendChild(div);
      });

      wrap.appendChild(grid);
      cards.appendChild(wrap);
    });
  })
  .catch(err => {
    const cards = document.getElementById('cards');
    cards.innerHTML = '<div class="error-card"><b>Could not load workflow</b>' +
      '<p>' + String(err) + '</p>' +
      '<p>Try hard refresh (Ctrl/Cmd+Shift+R) and ensure server root is workspace.</p></div>';
  });
</script>

</body>
</html>
